# Quote Vault フロントエンドリニューアル設計書

## 📋 概要

このドキュメントは、Quote Vault（名言・格言・ことわざ・百人一首サイト）のフロントエンドリニューアル設計をまとめたものです。

### 目的
- 検索流入を最大化し、広告収益を向上
- 名言・格言・ことわざ・百人一首コンテンツの回遊率向上
- モダンなUI/UXでユーザー体験を改善

### 重要な制約
- ✅ 既存のDB構成・テーブル・データは一切変更しない
- ✅ 既存データをすべて活用
- ✅ フロントUI/UXのみを変更

---

## 🏗️ アーキテクチャ

### LaravelとVueの役割分担

```
┌─────────────────────────────────────────────────────────────┐
│                       Laravel (Backend)                      │
├─────────────────────────────────────────────────────────────┤
│  • ルーティング                                              │
│  • コントローラー（データ取得・整形）                         │
│  • Eloquentモデル（DB操作）                                  │
│  • Bladeテンプレート（SEO重要ページのSSR）                   │
│  • API エンドポイント（ランダム取得等）                      │
└─────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────┐
│                        Vue.js (Frontend)                     │
├─────────────────────────────────────────────────────────────┤
│  • インタラクティブコンポーネント                            │
│  • ランダム名言ウィジェット（AJAX）                          │
│  • クイック検索（タブ切り替え）                              │
│  • モバイルナビゲーション                                    │
│  • 今日の名言表示                                            │
└─────────────────────────────────────────────────────────────┘
```

### ファイル構成

```
resources/
├── js/
│   ├── app.js                    # Vueアプリケーション初期化
│   ├── bootstrap.js              # 依存関係
│   └── components/
│       ├── RandomQuote.vue       # ランダム名言ウィジェット
│       ├── DailyQuote.vue        # 今日の名言
│       ├── QuickSearch.vue       # クイック検索
│       ├── ContentNavigation.vue # 探し方ナビゲーション
│       ├── QuoteCard.vue         # 名言カード
│       └── MobileNavigation.vue  # モバイルメニュー
│
├── views/
│   ├── layouts/
│   │   └── app.blade.php         # 新しいレイアウト
│   │
│   ├── home-new.blade.php        # トップページ
│   │
│   ├── authors/
│   │   ├── index-new.blade.php   # 著者一覧
│   │   └── show-new.blade.php    # 著者詳細
│   │
│   ├── largecategories/
│   │   ├── index-new.blade.php   # テーマ一覧
│   │   └── show-new.blade.php    # テーマ詳細
│   │
│   ├── quotes/
│   │   └── show-new.blade.php    # 名言詳細（回遊性強化）
│   │
│   └── components/
│       ├── breadcrumbs.blade.php # パンくずリスト
│       └── share-buttons.blade.php # SNS共有
│
└── css/
    └── app.css                   # 拡張されたスタイル
```

---

## 📱 ページ構成案

### 1. トップページ

```
┌─────────────────────────────────────────────────────────────┐
│  ヘッダー（ロゴ / メニュー / 検索）                          │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ■ ヒーローセクション                                       │
│    「心に響く言葉を見つけよう」                             │
│    [クイック検索バー - Vue]                                 │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ■ 探し方ナビゲーション - Vue                               │
│  ┌────────┐ ┌────────┐ ┌────────┐ ┌────────┐              │
│  │人名で探す│ │テーマで│ │ことわざ│ │百人一首│              │
│  └────────┘ └────────┘ └────────┘ └────────┘              │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ■ 今日の名言 - Vue                                         │
│  ┌─────────────────────────────────────────────────────┐   │
│  │  「努力は必ず報われる。...」                         │   │
│  │                           - 松下幸之助              │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ■ ランダムウィジェット x3 - Vue                            │
│  ┌─────────┐ ┌─────────┐ ┌─────────┐                      │
│  │名言     │ │ことわざ │ │百人一首 │                      │
│  │[更新]   │ │[更新]   │ │[更新]   │                      │
│  └─────────┘ └─────────┘ └─────────┘                      │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│  [広告スペース]                                             │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ■ 人気の名言                                               │
│  ┌─────────┐ ┌─────────┐ ┌─────────┐                      │
│  │名言カード│ │名言カード│ │名言カード│                      │
│  └─────────┘ └─────────┘ └─────────┘                      │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ■ テーマから探す                                           │
│  [努力] [人生] [愛] [友情] [成功] [失敗] ...               │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│  フッター                                                   │
└─────────────────────────────────────────────────────────────┘
```

### 2. 人名ページ（著者一覧・詳細）

**著者一覧**
- 50音別のクイックジャンプナビ（スティッキー）
- 著者カードグリッド表示
- 各著者に名言数を表示

**著者詳細**
- 大きなプロフィールヘッダー
- 名言カード一覧（人気順）
- SNS共有ボタン
- 他の著者への誘導

### 3. テーマページ（カテゴリ一覧・詳細）

**カテゴリ一覧**
- カラフルなテーマカード
- 各カードにサブカテゴリプレビュー
- ホバーエフェクト

**カテゴリ詳細**
- サブカテゴリグリッド
- このカテゴリの人気名言
- 他のテーマへの誘導

### 4. 名言詳細ページ（回遊性強化）

```
┌─────────────────────────────────────────────────────────────┐
│  パンくずリスト                                             │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ■ 名言メインカード（グラデーションヘッダー）               │
│  ┌─────────────────────────────────────────────────────┐   │
│  │                                                     │   │
│  │  「人生は自転車のようなものだ。...」               │   │
│  │                                                     │   │
│  │                  - アルベルト・アインシュタイン     │   │
│  └─────────────────────────────────────────────────────┘   │
│  [SNS共有ボタン] [カテゴリバッジ] [閲覧数]                  │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│  [広告]                                                     │
├──────────────────────────────────┬──────────────────────────┤
│                                  │                          │
│  ■ 同じカテゴリの名言            │  ■ 著者プロフィール      │
│  ┌─────┐ ┌─────┐               │  ┌──────────────────┐    │
│  │関連1│ │関連2│               │  │ アインシュタイン │    │
│  └─────┘ └─────┘               │  │ 12件の名言       │    │
│  ┌─────┐ ┌─────┐               │  │ [他の名言を見る] │    │
│  │関連3│ │関連4│               │  └──────────────────┘    │
│  └─────┘ └─────┘               │                          │
│  [もっと見る →]                 │  ■ ランダム名言          │
│                                  │  [ランダムで探す]        │
│  ■ この著者の他の名言           │                          │
│  ┌─────┐ ┌─────┐               │  ■ 関連テーマ            │
│  │名言1│ │名言2│               │  [努力] [人生] [科学]    │
│  └─────┘ └─────┘               │                          │
│  [すべて見る →]                 │  ■ 他のコンテンツ        │
│                                  │  [ことわざ] [百人一首]   │
└──────────────────────────────────┴──────────────────────────┘
```

---

## 📐 設計意図

### モバイルファースト設計

| 要素 | モバイル | PC |
|------|----------|-----|
| ナビゲーション | スライドメニュー | 水平メニュー |
| グリッド | 1-2カラム | 3-4カラム |
| カード | フル幅 | 適正サイズ |
| 検索 | シンプル | タブ付き |
| 広告 | 記事間に配置 | サイドバー可 |

### SEO対策

1. **構造化データ**
   - BreadcrumbList（パンくずリスト）
   - Quotation（名言）
   - Person（著者）
   - WebSite（サイト全体）

2. **メタタグ最適化**
   - タイトル最適化
   - description最適化
   - OGP / Twitter Card対応

3. **URLとルーティング**
   - クリーンURL
   - 既存のルーティング構造を維持

### 回遊性向上策

1. **関連コンテンツ表示**
   - 同じカテゴリの他の名言
   - 同じ著者の他の名言
   - 関連テーマへのリンク

2. **探索を促す導線**
   - ランダム名言ボタン
   - 今日の名言
   - 人気ランキング

3. **他コンテンツへの誘導**
   - 名言→ことわざ
   - 名言→百人一首
   - 相互リンク

---

## 🎨 デザインシステム

### カラーパレット

| 用途 | カラー |
|------|--------|
| 名言・格言 | Blue系 (#2563eb) |
| ことわざ | Green系 (#059669) |
| 百人一首 | Purple系 (#7c3aed) |
| 今日の名言 | Amber系 (#d97706) |
| アクセント | Indigo系 (#4f46e5) |

### タイポグラフィ

- 本文: Noto Sans JP
- 引用・和歌: Noto Serif JP
- ウェイト: 400 (本文), 600-700 (見出し)

### コンポーネント

| コンポーネント | 用途 |
|---------------|------|
| `.btn-primary` | プライマリアクション |
| `.btn-outline` | セカンダリアクション |
| `.card` | 汎用カード |
| `.badge` | カテゴリ・タイプ表示 |
| `.section-title` | セクション見出し |

---

## 🚀 デプロイ手順

### 1. 依存関係のインストール

```bash
npm install
```

### 2. アセットのビルド

```bash
# 開発用
npm run dev

# 本番用
npm run production
```

### 3. キャッシュクリア

```bash
php artisan config:clear
php artisan view:clear
php artisan cache:clear
```

---

## 📝 注意事項

### 既存ファイルとの関係

- 新しいビューファイルは `-new` サフィックス付きで作成
- コントローラーは新しいビューを参照するように更新済み
- 既存ファイルは削除せず保持（ロールバック可能）

### Vue.js導入

- Vue 3 を使用
- Laravel Mix でコンパイル
- グローバルコンポーネントとして登録

### 広告配置

- 読書体験を妨げない位置に配置
- スクロール途中に自然に表示
- モバイルでは記事間に配置

---

## 📊 期待される効果

| 指標 | 改善ポイント |
|------|-------------|
| 直帰率 | 関連コンテンツ・回遊導線で低下 |
| PV/セッション | 内部リンク最適化で向上 |
| 滞在時間 | コンテンツの読みやすさで向上 |
| CTR | 魅力的なカードデザインで向上 |
| SEO | 構造化データ・メタ最適化で向上 |
